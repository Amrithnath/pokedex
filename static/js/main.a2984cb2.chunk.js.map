{"version":3,"sources":["utils/ga.js","ui/pokemon/cmp-pokemon.js","ui/pokemon/cnt-pokemon.js","ui/search/cmp-search.js","ui/page/cmp-page.js","ui/page/cnt-page.js","actions/pokemons.js","reducers/pokemons.js","reducers/index.js","index.js","store/configure-store.js"],"names":["ReactGA","initialize","Pokemon","_this$props","this","props","id","pokemon","pokemonsById","react_default","a","createElement","className","type","onClick","ga","event","category","action","label","style","backgroundImage","concat","name","PureComponent","connect","state","pokemons","byId","Search","_ref","onChange","value","placeholder","autoFocus","Page","searchString","pokemonsIds","error","handleSearch","currentTarget","toLowerCase","trim","_this","pokemonsAllIds","hardtack","set","maxAge","setState","filter","pokemonId","includes","_this2","getPokemons","then","payload","message","get","_this2$props","pageview","window","location","pathname","search","_this$state","isFetched","map","key","cnt_pokemon","cmp_search","Component","mapDispatchToProps","options","arguments","length","undefined","dispatch","_options$limit","limit","Object","defineProperty","RSAA","endpoint","method","types","_state$pokemons","allIds","initialState","combineReducers","objectSpread","results","forEach","item","url","substring","push","store","middlewares","thunkMiddleware","apiMiddleware","composeEnhancers","compose","createStore","rootReducer","applyMiddleware","apply","configureStore","render","es","cnt_page","document","getElementById"],"mappings":"gQAEAA,IAAQC,WAAW,kBAEJD,QAAf,EC6BeE,mLA7BJ,IAAAC,EACsBC,KAAKC,MAA1BC,EADDH,EACCG,GAEFC,EAHCJ,EACKK,aAEiBF,GAE7B,OACEG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,UACEE,KAAK,SACLD,UAAU,kBACVE,QAAS,WACPC,EAAGC,MAAM,CACPC,SAAU,UACVC,OAAQ,QACRC,MAAOZ,EAAQD,MAGnBc,MAAO,CACLC,gBAAe,OAAAC,OAAA,4EAAAA,OACbf,EAAQD,GADK,gBAKnBG,EAAAC,EAAAC,cAAA,KAAGC,UAAU,iBAAiBL,EAAQgB,cAxBxBC,iBCWPC,cAVS,SAAAC,GAGtB,MAAO,CACLlB,aAHmBkB,EAAMC,SAASC,OAOX,GAEZH,CAGbvB,GCLa2B,EAVA,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,SAAUC,EAAbF,EAAaE,MAAb,OACbvB,EAAAC,EAAAC,cAAA,SACEE,KAAK,OACLkB,SAAUA,EACVC,MAAOA,EACPC,YAAY,wBACZC,WAAS,KC4FEC,6MA7FbT,MAAQ,CACNU,aAAc,GACdC,YAAa,GACbC,MAAO,QAmCTC,aAAe,SAAAvB,GACb,IAAMgB,EAAQhB,EAAMwB,cAAcR,MAAMS,cAAcC,OADhCvC,EAEmBwC,EAAKtC,MAAtCG,EAFcL,EAEdK,aAAcoC,EAFAzC,EAEAyC,eAMtB,GAJAC,IAASC,IAAI,eAAgBd,EAAO,CAClCe,OAAQ,aAGI,KAAVf,EACF,OAAOW,EAAKK,SAAS,CACnBX,YAAaO,EACbR,aAAcJ,IAIlB,IAAMK,EAAcO,EAAeK,OAAO,SAAAC,GAGxC,OAFgB1C,EAAa0C,GAEd3B,KAAK4B,SAASnB,KAG/BW,EAAKK,SAAS,CACZX,cACAD,aAAcJ,wFAvDE,IAAAoB,EAAAhD,KAClBA,KAAKC,MAAMgD,cAAcC,KAAK,SAAApC,GAC5B,GAAIA,EAAOoB,MACT,OAAOc,EAAKJ,SAAS,CACnBV,MAAOpB,EAAOqC,QAAQC,UAI1B,IAAMpB,EAAeS,IAASY,IAAI,gBAPIC,EAQGN,EAAK/C,MAAtCG,EAR8BkD,EAQ9BlD,aAAcoC,EARgBc,EAQhBd,eAEtB,IAAKR,EACH,OAAOgB,EAAKJ,SAAS,CACnBX,YAAaO,IAIjB,IAAMP,EAAcO,EAAeK,OAAO,SAAAC,GAGxC,OAFgB1C,EAAa0C,GAEd3B,KAAK4B,SAASf,KAG/BgB,EAAKJ,SAAS,CACZX,cACAD,mBAIJrB,EAAG4C,SAASC,OAAOC,SAASC,SAAWF,OAAOC,SAASE,yCA8BhD,IAAAC,EACsC5D,KAAKsB,MAA1CU,EADD4B,EACC5B,aAAcC,EADf2B,EACe3B,YAAaC,EAD5B0B,EAC4B1B,MAC3B2B,EAAc7D,KAAKC,MAAnB4D,UAEFtC,EAAWU,EAAY6B,IAAI,SAAAhB,GAC/B,OACEzC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBAAiBuD,IAAKjB,GAClCzC,EAAAC,EAAAC,cAACyD,EAAD,CAAS9D,GAAI4C,OAKnB,OACEzC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACZ0B,GAAS7B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAe0B,GACxC7B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAC0D,EAAD,CAAQtC,SAAU3B,KAAKmC,aAAcP,MAAOI,KAE7C6B,EACCxD,EAAAC,EAAAC,cAAA,uBAEAF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YAAYe,WAvFjB2C,aCOnB,IAAMC,EAAqB,CACzBlB,YCRyB,eAACmB,EAADC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAW,GAAX,OAAkB,SAAAG,GAAY,IAAAC,EAC/BL,EAAhBM,aAD+C,IAAAD,EACvC,IADuCA,EAGvD,OAAOD,EAASG,OAAAC,EAAA,EAAAD,CAAA,GACbE,OAAO,CACNC,SAAQ,4CAAA5D,OAA8CwD,GACtDK,OAAQ,MACRC,MAAO,CACL,uBACA,uBACA,8BDCO3D,cAbf,SAAyBC,GAAO,IAAA2D,EACyB3D,EAAMC,SAE7D,MAAO,CACLnB,aAJ4B6E,EACtBzD,KAINgB,eAL4ByC,EACFC,SAc5Bf,EAFa9C,CAGbU,iCEdIoD,EAAe,CACnB3D,KAAM,GACN0D,OAAQ,GACRrB,WAAW,GCNEuB,cAAgB,CAC7B7D,SDQa,WAAuC,IAA9BD,EAA8B+C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtBc,EAAcrE,EAAQuD,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACpD,OAAQzD,EAAOL,MACb,IDZgC,uBCa9B,OAAOkE,OAAAU,EAAA,EAAAV,CAAA,GACFrD,EADL,CAEEuC,WAAW,IAGf,IDjBgC,uBC8B9B,OAZA/C,EAAOqC,QAAQmC,QAAQC,QAAQ,SAAAC,GAAQ,IAC7BC,EAAQD,EAARC,IACFvF,EAAKuF,EAAIC,UAAU,GAAID,EAAInB,OAAS,GAE1ChD,EAAME,KAAKtB,GAAXyE,OAAAU,EAAA,EAAAV,CAAA,CACEzE,MACGsF,GAGLlE,EAAM4D,OAAOS,KAAKzF,KAGbyE,OAAAU,EAAA,EAAAV,CAAA,GACFrD,EADL,CAEEuC,WAAW,IAGf,IDlCgC,uBCmC9B,OAAOc,OAAAU,EAAA,EAAAV,CAAA,GACFrD,EADL,CAEEuC,WAAW,IAGf,QACE,OAAOvC,gBErCPsE,ECFS,WAA2C,IAAnBT,EAAmBd,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAC9CwB,EAAc,CAACC,IAAiBC,iBAElCC,EAAmBC,IAWvB,OAAOC,YACLC,EACAhB,EACAa,EAAiBI,IAAeC,WAAf,EAAmBR,KDf1BS,GAEdC,iBACElG,EAAAC,EAAAC,cAACiG,EAAA,EAAD,CAAUZ,MAAOA,GACfvF,EAAAC,EAAAC,cAACkG,EAAD,OAEFC,SAASC,eAAe","file":"static/js/main.a2984cb2.chunk.js","sourcesContent":["import ReactGA from 'react-ga'\n\nReactGA.initialize('UA-112044218-9')\n\nexport default ReactGA\n","import React, { PureComponent } from 'react'\nimport ga from '../../utils/ga'\n\nclass Pokemon extends PureComponent {\n  render() {\n    const { id, pokemonsById } = this.props\n\n    const pokemon = pokemonsById[id]\n\n    return (\n      <div className=\"pokemon\">\n        <button\n          type=\"button\"\n          className=\"pokemon__sprite\"\n          onClick={() => {\n            ga.event({\n              category: 'pokemon',\n              action: 'click',\n              label: pokemon.id\n            })\n          }}\n          style={{\n            backgroundImage: `url(${`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${\n              pokemon.id\n            }.png`})`\n          }}\n        />\n        <p className=\"pokemon__name\">{pokemon.name}</p>\n      </div>\n    )\n  }\n}\n\nexport default Pokemon\n","import { connect } from 'react-redux'\n\nimport Pokemon from './cmp-pokemon'\n\nconst mapStateToProps = state => {\n  const pokemonsById = state.pokemons.byId\n\n  return {\n    pokemonsById\n  }\n}\n\nconst mapDispatchToProps = {}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Pokemon)\n","import React from 'react'\n\nconst Search = ({ onChange, value }) => (\n  <input\n    type=\"text\"\n    onChange={onChange}\n    value={value}\n    placeholder=\"Enter pokemon name...\"\n    autoFocus\n  />\n)\n\nexport default Search\n","import React, { Component } from 'react'\nimport hardtack from 'hardtack'\nimport Pokemon from '../pokemon/cnt-pokemon'\nimport Search from '../search/cmp-search'\nimport ga from '../../utils/ga'\n\nclass Page extends Component {\n  state = {\n    searchString: '',\n    pokemonsIds: [],\n    error: null\n  }\n\n  componentDidMount() {\n    this.props.getPokemons().then(action => {\n      if (action.error) {\n        return this.setState({\n          error: action.payload.message\n        })\n      }\n\n      const searchString = hardtack.get('searchString')\n      const { pokemonsById, pokemonsAllIds } = this.props\n\n      if (!searchString) {\n        return this.setState({\n          pokemonsIds: pokemonsAllIds\n        })\n      }\n\n      const pokemonsIds = pokemonsAllIds.filter(pokemonId => {\n        const pokemon = pokemonsById[pokemonId]\n\n        return pokemon.name.includes(searchString)\n      })\n\n      this.setState({\n        pokemonsIds,\n        searchString\n      })\n    })\n\n    ga.pageview(window.location.pathname + window.location.search)\n  }\n\n  handleSearch = event => {\n    const value = event.currentTarget.value.toLowerCase().trim()\n    const { pokemonsById, pokemonsAllIds } = this.props\n\n    hardtack.set('searchString', value, {\n      maxAge: '31536000'\n    })\n\n    if (value === '') {\n      return this.setState({\n        pokemonsIds: pokemonsAllIds,\n        searchString: value\n      })\n    }\n\n    const pokemonsIds = pokemonsAllIds.filter(pokemonId => {\n      const pokemon = pokemonsById[pokemonId]\n\n      return pokemon.name.includes(value)\n    })\n\n    this.setState({\n      pokemonsIds,\n      searchString: value\n    })\n  }\n\n  render() {\n    const { searchString, pokemonsIds, error } = this.state\n    const { isFetched } = this.props\n\n    const pokemons = pokemonsIds.map(pokemonId => {\n      return (\n        <li className=\"pokemons__item\" key={pokemonId}>\n          <Pokemon id={pokemonId} />\n        </li>\n      )\n    })\n\n    return (\n      <div className=\"page\">\n        {error && <div className=\"page__error\">{error}</div>}\n        <div className=\"page__search\">\n          <Search onChange={this.handleSearch} value={searchString} />\n        </div>\n        {isFetched ? (\n          <p>Loading...</p>\n        ) : (\n          <ul className=\"pokemons\">{pokemons}</ul>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default Page\n","import { connect } from 'react-redux'\nimport { getPokemons } from '../../actions/pokemons'\nimport Page from './cmp-page'\n\nfunction mapStateToProps(state) {\n  const { byId: pokemonsById, allIds: pokemonsAllIds } = state.pokemons\n\n  return {\n    pokemonsById,\n    pokemonsAllIds\n  }\n}\n\nconst mapDispatchToProps = {\n  getPokemons\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Page)\n","import { RSAA } from 'redux-api-middleware'\n\nexport const GET_POKEMONS_REQUEST = 'GET_POKEMONS_REQUEST'\nexport const GET_POKEMONS_SUCCESS = 'GET_POKEMONS_SUCCESS'\nexport const GET_POKEMONS_FAILURE = 'GET_POKEMONS_FAILURE'\n\nexport const getPokemons = (options = {}) => dispatch => {\n  const { limit = 784 } = options\n\n  return dispatch({\n    [RSAA]: {\n      endpoint: `https://pokeapi.co/api/v2/pokemon/?limit=${limit}`,\n      method: 'GET',\n      types: [\n        'GET_POKEMONS_REQUEST',\n        'GET_POKEMONS_SUCCESS',\n        'GET_POKEMONS_FAILURE'\n      ]\n    }\n  })\n}\n","import {\n  GET_POKEMONS_REQUEST,\n  GET_POKEMONS_SUCCESS,\n  GET_POKEMONS_FAILURE\n} from '../actions/pokemons'\n\nconst initialState = {\n  byId: {},\n  allIds: [],\n  isFetched: false\n}\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case GET_POKEMONS_REQUEST:\n      return {\n        ...state,\n        isFetched: true\n      }\n\n    case GET_POKEMONS_SUCCESS:\n      action.payload.results.forEach(item => {\n        const { url } = item\n        const id = url.substring(34, url.length - 1)\n\n        state.byId[id] = {\n          id,\n          ...item\n        }\n\n        state.allIds.push(id)\n      })\n\n      return {\n        ...state,\n        isFetched: false\n      }\n\n    case GET_POKEMONS_FAILURE:\n      return {\n        ...state,\n        isFetched: false\n      }\n\n    default:\n      return state\n  }\n}\n","import { combineReducers } from 'redux'\nimport pokemons from './pokemons'\n\nexport default combineReducers({\n  pokemons\n})\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport Page from './ui/page/cnt-page'\nimport configureStore from './store/configure-store'\n\nimport './style/main.css'\n\nconst store = configureStore()\n\nrender(\n  <Provider store={store}>\n    <Page />\n  </Provider>,\n  document.getElementById('root')\n)\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunkMiddleware from 'redux-thunk'\nimport { apiMiddleware } from 'redux-api-middleware'\nimport { createLogger } from 'redux-logger'\nimport rootReducer from '../reducers'\n\nexport default function configureStore(initialState = {}) {\n  const middlewares = [thunkMiddleware, apiMiddleware]\n\n  let composeEnhancers = compose\n\n  if (process.env.NODE_ENV === 'development') {\n    if ('__REDUX_DEVTOOLS_EXTENSION_COMPOSE__' in window) {\n      composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    }\n\n    const loggerMiddleware = createLogger()\n    middlewares.push(loggerMiddleware)\n  }\n\n  return createStore(\n    rootReducer,\n    initialState,\n    composeEnhancers(applyMiddleware(...middlewares))\n  )\n}\n"],"sourceRoot":""}