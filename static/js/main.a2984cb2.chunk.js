(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,n){e.exports=n(37)},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),s=n(3),c=n(6),i=n(7),l=n(8),p=n(9),u=n(11),m=n(10),d=n(12),h=n(15),v=n(16);v.a.initialize("UA-112044218-9");var k=v.a,E=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.pokemonsById[t];return r.a.createElement("div",{className:"pokemon"},r.a.createElement("button",{type:"button",className:"pokemon__sprite",onClick:function(){k.event({category:"pokemon",action:"click",label:n.id})},style:{backgroundImage:"url(".concat("https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/".concat(n.id,".png"),")")}}),r.a.createElement("p",{className:"pokemon__name"},n.name))}}]),t}(a.PureComponent),b=Object(s.b)(function(e){return{pokemonsById:e.pokemons.byId}},{})(E),g=function(e){var t=e.onChange,n=e.value;return r.a.createElement("input",{type:"text",onChange:t,value:n,placeholder:"Enter pokemon name...",autoFocus:!0})},f=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={searchString:"",pokemonsIds:[],error:null},n.handleSearch=function(e){var t=e.currentTarget.value.toLowerCase().trim(),a=n.props,r=a.pokemonsById,o=a.pokemonsAllIds;if(h.a.set("searchString",t,{maxAge:"31536000"}),""===t)return n.setState({pokemonsIds:o,searchString:t});var s=o.filter(function(e){return r[e].name.includes(t)});n.setState({pokemonsIds:s,searchString:t})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getPokemons().then(function(t){if(t.error)return e.setState({error:t.payload.message});var n=h.a.get("searchString"),a=e.props,r=a.pokemonsById,o=a.pokemonsAllIds;if(!n)return e.setState({pokemonsIds:o});var s=o.filter(function(e){return r[e].name.includes(n)});e.setState({pokemonsIds:s,searchString:n})}),k.pageview(window.location.pathname+window.location.search)}},{key:"render",value:function(){var e=this.state,t=e.searchString,n=e.pokemonsIds,a=e.error,o=this.props.isFetched,s=n.map(function(e){return r.a.createElement("li",{className:"pokemons__item",key:e},r.a.createElement(b,{id:e}))});return r.a.createElement("div",{className:"page"},a&&r.a.createElement("div",{className:"page__error"},a),r.a.createElement("div",{className:"page__search"},r.a.createElement(g,{onChange:this.handleSearch,value:t})),o?r.a.createElement("p",null,"Loading..."):r.a.createElement("ul",{className:"pokemons"},s))}}]),t}(a.Component);var O={getPokemons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.limit,a=void 0===n?784:n;return t(Object(c.a)({},i.RSAA,{endpoint:"https://pokeapi.co/api/v2/pokemon/?limit=".concat(a),method:"GET",types:["GET_POKEMONS_REQUEST","GET_POKEMONS_SUCCESS","GET_POKEMONS_FAILURE"]}))}}},S=Object(s.b)(function(e){var t=e.pokemons;return{pokemonsById:t.byId,pokemonsAllIds:t.allIds}},O)(f),y=n(2),I=n(22),_=(n(35),n(5)),j={byId:{},allIds:[],isFetched:!1},w=Object(y.c)({pokemons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_POKEMONS_REQUEST":return Object(_.a)({},e,{isFetched:!0});case"GET_POKEMONS_SUCCESS":return t.payload.results.forEach(function(t){var n=t.url,a=n.substring(34,n.length-1);e.byId[a]=Object(_.a)({id:a},t),e.allIds.push(a)}),Object(_.a)({},e,{isFetched:!1});case"GET_POKEMONS_FAILURE":return Object(_.a)({},e,{isFetched:!1});default:return e}}});n(36);var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[I.a,i.apiMiddleware],n=y.d;return Object(y.e)(w,e,n(y.a.apply(void 0,t)))}();Object(o.render)(r.a.createElement(s.a,{store:N},r.a.createElement(S,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.a2984cb2.chunk.js.map